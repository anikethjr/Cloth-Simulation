<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>KAT Systems Final Mark</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'
          type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
          rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        table, th, td {
            border: 1px solid black;
        }
    </style>

</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                Menu <i class="fa fa-bars"></i>
            </button>
            <a class="navbar-brand" href="index.html">Home</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#intro">Introduction</a>
                </li>
                <li>
                    <a href="#springmass">Spring-Mass Model</a>
                </li>
                <li>
                    <a href="#energy">Internal Energy Model</a>
                </li>
                <li>
                    <a href="#results">Results</a>
                </li>
                <li>
                    <a href="#problems">Speedbreakers</a>
                </li>
                <li>
                    <a href="#team">The Artists</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<!-- Page Header -->
<!-- Set your background image for this header on the line below. -->
<header class="intro-header" style="background-image: url('img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="site-heading">
                    <h1>KAT Studios</h1>
                    <h2>Final Mark</h2>
                    <hr class="small">
                    <span class="subheading">Cloth Simulation using Spring-Mass and Internal Energy Models</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Main Content -->
<div class="container">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-preview">

                <h2 class="post-title" id="intro">
                    Introduction
                </h2>
                <p class="post-subtitle" style="text-align:justify;">
                    KAT Systems presents its magnum opus, Cloth Simulation using Spring-Mass and Internal Energy models. The spring-mass model is based on the <a href="https://viscomp.alexandra.dk/?p=147">tutorial by Jesper Mosegaard</a> and the internal energy model is based on the paper titled <a href="https://ri.cmu.edu/pub_files/pub1/baraff_david_1998_1/baraff_david_1998_1.pdf">"Large Steps in Cloth Simulation" by David Baraff and Andrew Witkin</a>.
                </p>


            </div>
            <hr>
            <div class="post-preview">

                <h2 class="post-title" id="springmass">
                    Spring-Mass Model
                </h2>
                <p class="post-subtitle" style="text-align:justify;">
                    In the spring-mass model, the cloth is modelled as mesh of particles each interconnected through
                    springs. These springs are constraints which make the cloth particles come back to their rest
                    positions and thus model the rigidity of the cloth.

                <h3> The Particle Class</h3>
                <p class="post-subtitle" style="text-align:justify;">
                    The particle class allows us to define the particles which will form the cloth. Each particle has
                    its own mass (uniform across the cloth), current and old position vectors, acceleration vector, and
                    normal vector. The class is defined in such a way that we can perform various operations on
                    individual particles. These operations include applying forces on the particles, getting their
                    current position, getting their modified positions based on application of different forces
                    (gravitational force, wind forces, etc) when applied on the cloth, making the particles
                    movable/immovable, etc. Different methods have been defined in this class catering to the smooth
                    application of these operations.
                </p>

                <h3> The Constraint Class</h3>
                <p class="post-subtitle" style="text-align:justify;">
                    The particles of the cloth, under the application of different forces will be displaced by certain
                    amounts. The springs between the particles give the cloth its rigidity and make the particles come
                    back to their rest positions.
                    These spring constraints are modelled using the constraint class. The constraint is defined in such
                    a way that the model tries to maintain a fixed distance (rest_length) between every particle pair.
                    So whenever a pair of particles have a separation more than this distance (because of application of
                    different forces), a correction vector is calculated, which finds the correction to be applied on
                    the particles to reduce the separation to this fixed length.
                </p>

                <h3> The Cloth Class</h3>
                <p class="post-subtitle" style="text-align:justify;">
                    The cloth class is the synthesis of the two previous classes. This is the class which actually draws
                    the cloth, applies forces on all the particles of the cloth, and handles collisions with inanimate
                    objects (we used two balls with different trajectories). Firstly, the cloth is populated with
                    triangles formed from three adjacent particles to give us a cloth in form of a polygonal mesh. This
                    class defines various methods which allow the movement of particles, the drawing of cloth, the
                    simulation of the furling effects caused when wind/gravity forces are applied on the cloth and when
                    collisions occur between the cloth and the balls.
                </p>


                </p>

            </div>
            <hr>
            <div class="post-preview">
                <h2 class="post-title" id="energy">
                    Internal Energy Model
                </h2>
                <p class="post-subtitle" style="text-align:justify;">
                    Energy based cloth simulation is a more complicated and complete method of simulating fabrics. It works by assigning potential energy to the state of the cloth, and then calculating the derivatives of the energy function with respect to the coordinates of the points. The negative of these derivatives provide the forces to be applied on the points. To this end, the sum total of energy is divided into the different distortion components of shear, scale and bend. These energies are further subdivided into contributions by each triangles in case of the shear and scale energies, and each pair of adjacent triangles in case of the bend energies. It is assumed that the contribution by each triangle is independent. To this end, Baraff and Witkin proposed "condition vectors" associated with each of these sub-subdivisions of the potential energy. The energy energy contribution is modeled as directly proportional to the norm of these condition vectors. These condition vectors are a function of both, the world coordinates of the points as well the “UV coordinates”, which can be thought of as nothing but the texture coordinates.
                    <br><br>
                    The energy model is known to be quite unstable numerically. Baraff and Witkin proposed the use of the backward Euler integration technique to counter this flaw. However, in the submitted code, the integration technique used is the typical forward Euler. To counter the numerical instability, clamps have been introduced upon the forces derived from the energy, which has been partially successful. In the code, the partial derivatives have been calculated numerically instead of analytically. The performance cost is still minimal as the simulated cloth is fairly small in size.

                </p>
            </div>

            <hr>
            <div class="post-preview">

                <h2 class="post-title" id="results">
                    Results
                </h2>
                Spring Mass Model:
                <br>
                <img src="img/img1.png" height="400px" width="800px">
                <img src="img/img2.png" height="400px" width="800px">
                <br><br>
                Internal Energy Model:
                <br>
                <img src="img/img3.png">

            </div>
            <hr>
            <div class="post-preview">

                <h2 class="post-title" id="problems">
                    Speedbreakers Which Didn't Stop a Bugatti
                </h2>
                <p class="post-subtitle" style="text-align:justify;">
                    The collision between the ball and the cloth in the spring mass model were a bit ugly. This was resolved by reducing the radius of the sphere by a fractional amount so that the collsions are cleaner.
                    <br>
                    Initially,the normals for each triangle were computed while drawing and directly used. But this lead to a rough cloth simulation. To fix this, all the normals at a vertex were summed up and then the triangles were drawn using these normals. This gave a smoother cloth.
                    <br><br>
                    Due to the fact that the energy model is remarkably unstable numerically, and the fact that a simple forward Euler integration method has been used, the instability was quite significant, especially for the bend energies. The instability is perhaps exacerbated by the fact that numerical derivatives have been used instead of analytical ones. The step size is limited by the CPU processing power, so a maximum of 100 steps per second can be reached. 
                </p>
            </div>
            <hr>
            <center><h2 class="post-title" id="team">
                The Freemasons
            </h2></center>
            <br>
            <ul id="team">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="team-member text-center">

                            <h3>Aniketh Janardhan Reddy</h3>
                            <h4>2014A7TS0096H</h4>
                            <a href="mailto:anikethjr@gmail.com" target="_blank">anikethjr@gmail.com</a>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="team-member text-center">

                            <h3>Kartik Sethi</h3>
                            <h4>2014A7PS0130H</h4>
                            <a href="mailto:kartik1295@gmail.com" target="_blank">kartik1295@gmail.com</a>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="team-member text-center">

                            <h3>Tanmaya Shekhar Dabral</h3>
                            <h4>2014A7PS0138H</h4>
                            <a href="mailto:tanmayadabral@gmail.com" target="_blank">tanmayadabral@gmail.com</a>
                        </div>
                    </div>


                </div>

        </div>
        </ul>
        </footer>

        <!-- jQuery -->
        <script src="vendor/jquery/jquery.min.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

        <!-- Contact Form JavaScript -->
        <script src="js/jqBootstrapValidation.js"></script>
        <script src="js/contact_me.js"></script>

        <!-- Theme JavaScript -->
        <script src="js/clean-blog.min.js"></script>

</body>

</html>
